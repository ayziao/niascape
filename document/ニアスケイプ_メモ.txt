■ニアスケイプメモ

■対応中タスク ■■■■■■■■■■■■■■■■■

■タスク★★★ ■■■■■■■■■■■■■■■■■
basedata tagsの制御文字をスペースに置き換える
試作 タグ修正 tab文字になってるやつ スペースが無いやつ
試作 裏処理のログをどうにか
試作 gyazoを裏処理に
画像投稿の流れ整理
gyazoバックグラウンド投げ

■環境構築 ■■■■■■■■■■■■■■■■■■■
●前提
言語バージョン
	Python 3.4
	PHP 5.4
ライブラリ

●手順


■構成 ■■■■■■■■■■■■■■■■■■■■■
●言語
試作モックアップ PHP 死ぬほど雑に作る
HTML組み立て node (将来的にブラウザ側にも機能を持たせる？) それなりに作る
コアAPI Python ガッチガチに作る

●ディレクトリ
試作実行環境

実行環境
	webドキュメントルート
	webapp
	API
	単体テスト

アプリケーション？
	Android
	mac
	Windows？

文書
	メモ
	インストールマニュアル
	仕様書
	設定書


■ユースケース実装済み


■ユースケース ■■■■■■■■■■■■■■■■■

●投稿関連
だらだらと投稿
タイトルキメて投稿
Webで見たのの評価 ☆任意の数 いらない(ネガティブ評価任意の数も出来るように？

投稿 本文 タイトル タグ

●投稿 /?data.post

いろんな場所の投稿窓から投稿URLへ タイトル タグ 本文 添付ファイル が投げられる ？？？？色んな場所とは？？？？
	本文がなかった場合はエラー？ タイトルがあれば本文扱いとする？
	タイトル タグ 添付ファイル はなくてもよい
投稿日時UTCを元にキーを作成して保存？UTC?タイムゾーン？
タイトルがあればタイトル一覧に出るようにする なければロケールの日時でタイトルつけて保存？
タグがあればタグ一覧に出るようにする 投稿元によっては自動的にタグを付与？
添付ファイルがあれば？


●閲覧関連
タイムラインを見る
エントリを見る
タグ検索を見る
本文検索を見る

タイトル一覧
タグ一覧
タイトル検索

本文を全文検索できるように？ 修正だった場合は差分を記録？


●外部関連
フォローしたサイトのタイムライン
ポジティブ評価から似たデータを取得したタイムライン
ポジティブ評価から似たデータを取得した予測評価度順

●統計？
その日の塩梅を見る
その週の塩梅を見る
その月の塩梅を見る
その年の塩梅を見る
全期間の塩梅を見る

●アカウント
アカウント作成
ログイン
ログアウト

●サービストップ


●ログイン後のなんか
マイページ ダッシュボード


●サイト管理ユースケース
期間別投稿数グラフ
タグ別投稿数グラフ＞タグ一覧出すのがアレ＞プログラム側で頑張るか

●全体のライフサイクル
アカウント作成
投稿
閲覧
ログアウト
ログイン
検索
タグ付け

エントリ削除
アカウント削除




●転記分

サイトレート設定タグ付け 全クロール 新着クロール
プラグイン マルチポスト 短文投稿系
プラグイン マルチポスト 長文投稿系
プラグイン マルチポスト 画像投稿系
マルチポスト Twitter たんぶら オンラインブックマーク RSSリーダー グーグル検索  ユースケース書いてみる

ログインしてないアクセスのライフサイクル トップページ 最近更新された一覧 ユーザページ 個別ページ
ログインしてないアクセスのライフサイクル２ 外部サイトからのリンクによる個別ページ閲覧
削除

■ドメイン 

●ニアスケイプ本体
▼自己データ
▼評価データ
▼被評価データ
▼フォロー
●マルチポスト
●アカウント
●サイト
●システム
●


■仕様 ■■■■■■■■■■■■■■■■■■■■■
●タグ
連続した文字列 

制御文字と空白は不可
UI上では空白を区切り文字とする制御文字は空白に置き換え
絵文字とかUnicode文字OK

●サイト設定
キーバリューストア
sitesetting_サイト名 JSON

//PENDING サイト設定用のテーブルを別途作る？


■試作について ■■■■■■■■■■■■■■■■■
試作はちゃんと作ったあと消すか＞外部からのHTTPリクエストテストで比較用に残す
webテストに試作とnodeを比較してやる


■タスク★★☆ ■■■■■■■■■■■■■■■■■
●次
日サマリのコードが雑
試作 トップページ
実装済みユースケース書き出し
投稿件数サマリー 直近7日 時別 
時間別 全期間 今年 今月 今週 今日
曜日別 全期間 今年 今月 今週
投稿件数グラフのデフォルト当年にする
入力欄順変更	タグ ファイル選択 入力欄 投稿ボタン
ユースケース書き出し
画像投稿 内部保存
試作 個別ページ
	本文修正フォームを表示するなにか
	タグ修正フォームを表示するなにか(出っぱなし？)

●検討
タグ入力でカンマを区切りにするかどうか＞サイトごとの設定？
basedataでのタグの扱いをどうするか 現状 #付きがユーザタグになっている システムタグとカラムを分けるべきか
投稿ユースケースのインターフェイス設計
ブックマークってなんだっけ
投稿画面カスタマイズ機能
タグ位置
	複数行投稿の場合タグを改行？
	末尾に空行が2個あったらタグを改行して表示？
方向性を考える
	自分の指向に合うデータを閲覧出来るようにする
	元データとして入力と評価
個別ページレート設定タグ付け 外部ページと自分のサイトの区別をどのようにするか？操作に違いをもたせるか？

●考えること
▼全体的な進め方
ユースケース書く 雑に試作作る インターフェイス設計 ドメイン設計 データ設計 機能設計 ユースケーステスト書く なんとなく動くの書く 単体テスト書く メソッド単位実装 設計メモからコメントへ落とし込み
	設計 やることコードに書く
	単体テスト 確認することテストコードに書く
	実装 単体テスト先に書く
	結合テスト

▼その他
docstring の書式
ストレージ検討 KVS RDB SQLite
プラグインディレクトリ構成
プルリクエストを使うか？ githubはよく止まるという前提でローカルGIT主体で行くべきか？
デプロイ方法 自動化？
パッケージのディレクトリ以下を一切弄らずに設定は変えられるように 設定パスをmain.pyに引数で渡せるようにすべきか？
テンプレートエンジン使うか全部DOM操作でやるか
実家マシンどうにか
デプロイどうするか アカウント作成とログイン・ログアウトまで作ったら

●コメントと評価
	コメントは通常のテキスト投稿と同じ扱い
	評価は別テーブル
		ID 評価対象(自分のであればID 他URI) 評価値

■タスク★☆☆ ■■■■■■■■■■■■■■■■■
setup.pyの書き方調べる http://diveintopython3-ja.rdy.jp/packaging.html
無限クッキーにログインしてない時の設定持たせる
タグテーブル
貰った評価 アクセス数などの管理はどうするか
サマータイムについて調べる
loggingモジュール調べる
TwitterAPI関連調べる
PostgreSQL調査
readme 導入方法書く
readme 使い方書く
ユースケース整理
日サマリ 前年リンク 7年前リンク
月サマリ
Twitterストリームを標準出力に出し続けるやつ作ってみる
カウントを段組み 文字サイズとか調整
タグカウントを全期間年別月別日別曜日別時間別に
画像の仕様検討
	ベースデータにどう値を入れるか
		ローカルファイル情報
		外部画像サービス情報
			gyazo
with_imageどうにか
タイトルおかしいデータが有る
タグ修正履歴はどうするか＞アンドゥ用を考える 永続履歴は持たない
本文修正の仕様をどうするか
	ベースデータ修正？＞しない
	タイトルを被せるだけ 古い方には修正した:修正先IDシステムtag 新しい方には修正元:IDシステムtag
試作 キューイング
キューテーブル作る
試作のクラス化をすべきか？
CSSどうするか
	色管理を割る？
ページ送り

■inboxタスク■■■■■■■■■■■■■■■■■■

管理 期間別件数にタグを組み込む